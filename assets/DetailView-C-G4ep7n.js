import{d as Q,t as $,m as N,n as W,c as p,r as L,a as ve,u as Ce,b as Le,e as x,f as de,w as A,g as xe,h as Te,i as Ye,o as ee,j as Xe,k as Be,l as Me,p as ke,q as Ee,s as _,v as ie,x as be,y as J,z as se,A as B,B as me,C as Ze,D as re,E as We,F as ge,G as He,H as Oe,I as Ne,J as je,K as ue,L as $e,M as ne,N as Ve,O as Fe,P as ze,Q as Ue,R as _e,S as qe,T as Ke,U as Ge,V as Je,W as Qe,X as pe,Y as et,Z as tt,_ as he,$ as we,a0 as Pe,a1 as at,a2 as ot,a3 as it,a4 as G}from"./index-B3GRVzba.js";const[Re,le]=p("swipe"),nt={loop:$,width:W,height:W,vertical:Boolean,autoplay:N(0),duration:N(500),touchable:$,lazyRender:Boolean,initialSwipe:N(0),indicatorColor:String,showIndicators:$,stopPropagation:$},De=Symbol(Re);var lt=Q({name:Re,props:nt,emits:["change","dragStart","dragEnd"],setup(e,{emit:u,slots:m}){const t=L(),l=L(),a=ve({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let f=!1;const y=Ce(),{children:P,linkChildren:w}=Le(De),s=x(()=>P.length),v=x(()=>a[e.vertical?"height":"width"]),g=x(()=>e.vertical?y.deltaY.value:y.deltaX.value),C=x(()=>a.rect?(e.vertical?a.rect.height:a.rect.width)-v.value*s.value:0),T=x(()=>v.value?Math.ceil(Math.abs(C.value)/v.value):s.value),Y=x(()=>s.value*v.value),n=x(()=>(a.active+s.value)%s.value),k=x(()=>{const o=e.vertical?"vertical":"horizontal";return y.direction.value===o}),z=x(()=>{const o={transitionDuration:`${a.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+a.offset.toFixed(2)}px)`};if(v.value){const h=e.vertical?"height":"width",b=e.vertical?"width":"height";o[h]=`${Y.value}px`,o[b]=e[b]?`${e[b]}px`:""}return o}),d=o=>{const{active:h}=a;return o?e.loop?B(h+o,-1,s.value):B(h+o,0,T.value):h},R=(o,h=0)=>{let b=o*v.value;e.loop||(b=Math.min(b,-C.value));let D=h-b;return e.loop||(D=B(D,C.value,0)),D},I=({pace:o=0,offset:h=0,emitChange:b})=>{if(s.value<=1)return;const{active:D}=a,O=d(o),K=R(O,h);if(e.loop){if(P[0]&&K!==C.value){const fe=K<C.value;P[0].setOffset(fe?Y.value:0)}if(P[s.value-1]&&K!==0){const fe=K>0;P[s.value-1].setOffset(fe?-Y.value:0)}}a.active=O,a.offset=K,b&&O!==D&&u("change",n.value)},X=()=>{a.swiping=!0,a.active<=-1?I({pace:s.value}):a.active>=s.value&&I({pace:-s.value})},te=()=>{X(),y.reset(),ie(()=>{a.swiping=!1,I({pace:-1,emitChange:!0})})},j=()=>{X(),y.reset(),ie(()=>{a.swiping=!1,I({pace:1,emitChange:!0})})};let ae;const H=()=>clearTimeout(ae),M=()=>{H(),+e.autoplay>0&&s.value>1&&(ae=setTimeout(()=>{j(),M()},+e.autoplay))},Z=(o=+e.initialSwipe)=>{if(!t.value)return;const h=()=>{var b,D;if(!be(t)){const O={width:t.value.offsetWidth,height:t.value.offsetHeight};a.rect=O,a.width=+((b=e.width)!=null?b:O.width),a.height=+((D=e.height)!=null?D:O.height)}s.value&&(o=Math.min(s.value-1,o),o===-1&&(o=s.value-1)),a.active=o,a.swiping=!0,a.offset=R(o),P.forEach(O=>{O.setOffset(0)}),M()};be(t)?J().then(h):h()},U=()=>Z(a.active);let q;const oe=o=>{!e.touchable||o.touches.length>1||(y.start(o),f=!1,q=Date.now(),H(),X())},i=o=>{e.touchable&&a.swiping&&(y.move(o),k.value&&(!e.loop&&(a.active===0&&g.value>0||a.active===s.value-1&&g.value<0)||(se(o,e.stopPropagation),I({offset:g.value}),f||(u("dragStart",{index:n.value}),f=!0))))},c=()=>{if(!e.touchable||!a.swiping)return;const o=Date.now()-q,h=g.value/o;if((Math.abs(h)>.25||Math.abs(g.value)>v.value/2)&&k.value){const D=e.vertical?y.offsetY.value:y.offsetX.value;let O=0;e.loop?O=D>0?g.value>0?-1:1:0:O=-Math[g.value>0?"ceil":"floor"](g.value/v.value),I({pace:O,emitChange:!0})}else g.value&&I({pace:0});f=!1,a.swiping=!1,u("dragEnd",{index:n.value}),M()},r=(o,h={})=>{X(),y.reset(),ie(()=>{let b;e.loop&&o===s.value?b=a.active===0?0:o:b=o%s.value,h.immediate?ie(()=>{a.swiping=!1}):a.swiping=!1,I({pace:b-a.active,emitChange:!0})})},S=(o,h)=>{const b=h===n.value,D=b?{backgroundColor:e.indicatorColor}:void 0;return _("i",{style:D,class:le("indicator",{active:b})},null)},E=()=>{if(m.indicator)return m.indicator({active:n.value,total:s.value});if(e.showIndicators&&s.value>1)return _("div",{class:le("indicators",{vertical:e.vertical})},[Array(s.value).fill("").map(S)])};return de({prev:te,next:j,state:a,resize:U,swipeTo:r}),w({size:v,props:e,count:s,activeIndicator:n}),A(()=>e.initialSwipe,o=>Z(+o)),A(s,()=>Z(a.active)),A(()=>e.autoplay,M),A([xe,Te,()=>e.width,()=>e.height],U),A(Ye(),o=>{o==="visible"?M():H()}),ee(Z),Xe(()=>Z(a.active)),Be(()=>Z(a.active)),Me(H),ke(H),Ee("touchmove",i,{target:l}),()=>{var o;return _("div",{ref:t,class:le()},[_("div",{ref:l,style:z.value,class:le("track",{vertical:e.vertical}),onTouchstartPassive:oe,onTouchend:c,onTouchcancel:c},[(o=m.default)==null?void 0:o.call(m)]),E()])}}});const st=me(lt),[ct,rt]=p("swipe-item");var ut=Q({name:ct,setup(e,{slots:u}){let m;const t=ve({offset:0,inited:!1,mounted:!1}),{parent:l,index:a}=Ze(De);if(!l)return;const f=x(()=>{const w={},{vertical:s}=l.props;return l.size.value&&(w[s?"height":"width"]=`${l.size.value}px`),t.offset&&(w.transform=`translate${s?"Y":"X"}(${t.offset}px)`),w}),y=x(()=>{const{loop:w,lazyRender:s}=l.props;if(!s||m)return!0;if(!t.mounted)return!1;const v=l.activeIndicator.value,g=l.count.value-1,C=v===0&&w?g:v-1,T=v===g&&w?0:v+1;return m=a.value===v||a.value===C||a.value===T,m}),P=w=>{t.offset=w};return ee(()=>{J(()=>{t.mounted=!0})}),de({setOffset:P}),()=>{var w;return _("div",{class:rt(),style:f.value},[y.value?(w=u.default)==null?void 0:w.call(u):null])}}});const vt=me(ut),[dt,V]=p("image"),mt={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:W,height:W,radius:W,lazyLoad:Boolean,iconSize:W,showError:$,errorIcon:re("photo-fail"),iconPrefix:String,showLoading:$,loadingIcon:re("photo"),crossorigin:String,referrerpolicy:String};var ft=Q({name:dt,props:mt,emits:["load","error"],setup(e,{emit:u,slots:m}){const t=L(!1),l=L(!0),a=L(),{$Lazyload:f}=We().proxy,y=x(()=>{const n={width:ge(e.width),height:ge(e.height)};return He(e.radius)&&(n.overflow="hidden",n.borderRadius=ge(e.radius)),n});A(()=>e.src,()=>{t.value=!1,l.value=!0});const P=n=>{l.value&&(l.value=!1,u("load",n))},w=()=>{const n=new Event("load");Object.defineProperty(n,"target",{value:a.value,enumerable:!0}),P(n)},s=n=>{t.value=!0,l.value=!1,u("error",n)},v=(n,k,z)=>z?z():_($e,{name:n,size:e.iconSize,class:k,classPrefix:e.iconPrefix},null),g=()=>{if(l.value&&e.showLoading)return _("div",{class:V("loading")},[v(e.loadingIcon,V("loading-icon"),m.loading)]);if(t.value&&e.showError)return _("div",{class:V("error")},[v(e.errorIcon,V("error-icon"),m.error)])},C=()=>{if(t.value||!e.src)return;const n={alt:e.alt,class:V("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?Ne(_("img",ue({ref:a},n),null),[[je("lazy"),e.src]]):_("img",ue({ref:a,src:e.src,onLoad:P,onError:s},n),null)},T=({el:n})=>{const k=()=>{n===a.value&&l.value&&w()};a.value?k():J(k)},Y=({el:n})=>{n===a.value&&!t.value&&s()};return f&&Oe&&(f.$on("loaded",T),f.$on("error",Y),ke(()=>{f.$off("loaded",T),f.$off("error",Y)})),ee(()=>{J(()=>{var n;(n=a.value)!=null&&n.complete&&!e.lazyLoad&&w()})}),()=>{var n;return _("div",{class:V({round:e.round,block:e.block}),style:y.value},[C(),g(),(n=m.default)==null?void 0:n.call(m)])}}});const gt=me(ft),Ie=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),ht=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),ye=p("image-preview")[1],Se=2.6,wt={src:String,show:Boolean,active:Number,minZoom:ne(W),maxZoom:ne(W),rootWidth:ne(Number),rootHeight:ne(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var yt=Q({props:wt,emits:["scale","close","longPress"],setup(e,{emit:u,slots:m}){const t=ve({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),l=Ce(),a=L(),f=L(),y=L(!1),P=L(!1);let w=0;const s=x(()=>{const{scale:i,moveX:c,moveY:r,moving:S,zooming:E,initializing:o}=t,h={transitionDuration:E||S||o?"0s":".3s"};return(i!==1||P.value)&&(h.transform=`matrix(${i}, 0, 0, ${i}, ${c}, ${r})`),h}),v=x(()=>{if(t.imageRatio){const{rootWidth:i,rootHeight:c}=e,r=y.value?c/t.imageRatio:i;return Math.max(0,(t.scale*r-i)/2)}return 0}),g=x(()=>{if(t.imageRatio){const{rootWidth:i,rootHeight:c}=e,r=y.value?c:i*t.imageRatio;return Math.max(0,(t.scale*r-c)/2)}return 0}),C=(i,c)=>{var r;if(i=B(i,+e.minZoom,+e.maxZoom+1),i!==t.scale){const S=i/t.scale;if(t.scale=i,c){const E=ze((r=a.value)==null?void 0:r.$el),o={x:E.width*.5,y:E.height*.5},h=t.moveX-(c.x-E.left-o.x)*(S-1),b=t.moveY-(c.y-E.top-o.y)*(S-1);t.moveX=B(h,-v.value,v.value),t.moveY=B(b,-g.value,g.value)}else t.moveX=0,t.moveY=P.value?w:0;u("scale",{scale:i,index:e.active})}},T=()=>{C(1)},Y=()=>{const i=t.scale>1?1:2;C(i,i===2||P.value?{x:l.startX.value,y:l.startY.value}:void 0)};let n,k,z,d,R,I,X,te,j=!1;const ae=i=>{const{touches:c}=i;if(n=c.length,n===2&&e.disableZoom)return;const{offsetX:r}=l;l.start(i),k=t.moveX,z=t.moveY,te=Date.now(),j=!1,t.moving=n===1&&(t.scale!==1||P.value),t.zooming=n===2&&!r.value,t.zooming&&(d=t.scale,R=Ie(c))},H=i=>{const{touches:c}=i;if(l.move(i),t.moving){const{deltaX:r,deltaY:S}=l,E=r.value+k,o=S.value+z;if((e.vertical?l.isVertical()&&Math.abs(o)>g.value:l.isHorizontal()&&Math.abs(E)>v.value)&&!j){t.moving=!1;return}j=!0,se(i,!0),t.moveX=B(E,-v.value,v.value),t.moveY=B(o,-g.value,g.value)}if(t.zooming&&(se(i,!0),c.length===2)){const r=Ie(c),S=d*r/R;I=ht(c),C(S,I)}},M=i=>{var c;const r=(c=f.value)==null?void 0:c.$el;if(!r)return;const S=r.firstElementChild,E=i.target===r,o=S==null?void 0:S.contains(i.target);!e.closeOnClickImage&&o||!e.closeOnClickOverlay&&E||u("close")},Z=i=>{if(n>1)return;const c=Date.now()-te,r=250;l.isTap.value&&(c<r?e.doubleScale?X?(clearTimeout(X),X=null,Y()):X=setTimeout(()=>{M(i),X=null},r):M(i):c>Ue&&u("longPress"))},U=i=>{let c=!1;if((t.moving||t.zooming)&&(c=!0,t.moving&&k===t.moveX&&z===t.moveY&&(c=!1),!i.touches.length)){t.zooming&&(t.moveX=B(t.moveX,-v.value,v.value),t.moveY=B(t.moveY,-g.value,g.value),t.zooming=!1),t.moving=!1,k=0,z=0,d=1,t.scale<1&&T();const r=+e.maxZoom;t.scale>r&&C(r,I)}se(i,c),Z(i),l.reset()},q=()=>{const{rootWidth:i,rootHeight:c}=e,r=c/i,{imageRatio:S}=t;y.value=t.imageRatio>r&&S<Se,P.value=t.imageRatio>r&&S>=Se,P.value&&(w=(S*i-c)/2,t.moveY=w,t.initializing=!0,Ve(()=>{t.initializing=!1})),T()},oe=i=>{const{naturalWidth:c,naturalHeight:r}=i.target;t.imageRatio=r/c,q()};return A(()=>e.active,T),A(()=>e.show,i=>{i||T()}),A(()=>[e.rootWidth,e.rootHeight],q),Ee("touchmove",H,{target:x(()=>{var i;return(i=f.value)==null?void 0:i.$el})}),de({resetScale:T}),()=>{const i={loading:()=>_(Fe,{type:"spinner"},null)};return _(vt,{ref:f,class:ye("swipe-item"),onTouchstartPassive:ae,onTouchend:U,onTouchcancel:U},{default:()=>[m.image?_("div",{class:ye("image-wrap")},[m.image({src:e.src,onLoad:oe,style:s.value})]):_(gt,{ref:a,src:e.src,fit:"contain",class:ye("image",{vertical:y.value}),style:s.value,onLoad:oe},i)]})}}});const[bt,F]=p("image-preview"),_t=["show","teleport","transition","overlayStyle","closeOnPopstate"],Pt={show:Boolean,loop:$,images:qe(),minZoom:N(1/3),maxZoom:N(3),overlay:$,vertical:Boolean,closeable:Boolean,showIndex:$,className:_e,closeIcon:re("clear"),transition:String,beforeClose:Function,doubleScale:$,overlayClass:_e,overlayStyle:Object,swipeDuration:N(300),startPosition:N(0),showIndicators:Boolean,closeOnPopstate:$,closeOnClickImage:$,closeOnClickOverlay:$,closeIconPosition:re("top-right"),teleport:[String,Object]};var Ae=Q({name:bt,props:Pt,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:u,slots:m}){const t=L(),l=L(),a=ve({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),f=()=>{if(t.value){const d=ze(t.value.$el);a.rootWidth=d.width,a.rootHeight=d.height,t.value.resize()}},y=d=>u("scale",d),P=d=>u("update:show",d),w=()=>{Qe(e.beforeClose,{args:[a.active],done:()=>P(!1)})},s=d=>{d!==a.active&&(a.active=d,u("change",d))},v=()=>{if(e.showIndex)return _("div",{class:F("index")},[m.index?m.index({index:a.active}):`${a.active+1} / ${e.images.length}`])},g=()=>{if(m.cover)return _("div",{class:F("cover")},[m.cover()])},C=()=>{a.disableZoom=!0},T=()=>{a.disableZoom=!1},Y=()=>_(st,{ref:t,lazyRender:!0,loop:e.loop,class:F("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:s,onDragEnd:T,onDragStart:C},{default:()=>[e.images.map((d,R)=>_(yt,{ref:I=>{R===a.active&&(l.value=I)},src:d,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,disableZoom:a.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:y,onClose:w,onLongPress:()=>u("longPress",{index:R})},{image:m.image}))]}),n=()=>{if(e.closeable)return _($e,{role:"button",name:e.closeIcon,class:[F("close-icon",e.closeIconPosition),Je],onClick:w},null)},k=()=>u("closed"),z=(d,R)=>{var I;return(I=t.value)==null?void 0:I.swipeTo(d,R)};return de({resetScale:()=>{var d;(d=l.value)==null||d.resetScale()},swipeTo:z}),ee(f),A([xe,Te],f),A(()=>e.startPosition,d=>s(+d)),A(()=>e.show,d=>{const{images:R,startPosition:I}=e;d?(s(+I),J(()=>{f(),z(+I,{immediate:!0})})):u("close",{index:a.active,url:R[a.active]})}),()=>_(Ge,ue({class:[F(),e.className],overlayClass:[F("overlay"),e.overlayClass],onClosed:k,"onUpdate:show":P},Ke(e,_t)),{default:()=>[n(),Y(),v(),g()]})}});let ce;const It={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function St(){({instance:ce}=et({setup(){const{state:e,toggle:u}=tt(),m=()=>{e.images=[]};return()=>_(Ae,ue(e,{onClosed:m,"onUpdate:show":u}),null)}}))}const Ct=(e,u=0)=>{if(Oe)return ce||St(),e=Array.isArray(e)?{images:e,startPosition:u}:e,ce.open(pe({},It,e)),ce};me(Ae);const xt={class:"detail"},Tt=["src","onClick"],Et={__name:"DetailView",setup(e){const u=L([]);ee(async()=>{const t=Object.assign({"/src/assets/image/detail/AW_1.jpg":()=>G(()=>import("./AW_1-B53OpaAy.js"),[]),"/src/assets/image/detail/AW_2.jpg":()=>G(()=>import("./AW_2-BYC-IFqm.js"),[]),"/src/assets/image/detail/AW_3.jpg":()=>G(()=>import("./AW_3-CoRX7AnO.js"),[]),"/src/assets/image/detail/AW_4.jpg":()=>G(()=>import("./AW_4-C-9jR1Ww.js"),[]),"/src/assets/image/detail/AW_5.jpg":()=>G(()=>import("./AW_5-DcTtDAve.js"),[])}),l=[];for(const a in t){const f=await t[a]();l.push(f.default)}u.value=l});const m=t=>{Ct({images:u.value,startPosition:t,closeable:!0})};return(t,l)=>(we(),he("div",xt,[Pe("div",{class:"back-box",onClick:l[0]||(l[0]=a=>t.$router.go(-1))},l[1]||(l[1]=[Pe("img",{class:"icon-back",src:at,alt:""},null,-1)])),(we(!0),he(ot,null,it(u.value,(a,f)=>(we(),he("img",{class:"img",src:a,onClick:y=>m(f)},null,8,Tt))),256))]))}};export{Et as default};
